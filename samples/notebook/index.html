<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8'>
    <title>Test Notebook</title>
    <script src='../../era/js/era-debug.js'></script>
<script>

var app = new Ui.App();

var vbox = new Ui.VBox();
app.setContent(vbox);

var toolbar = new Ui.ToolBar();
vbox.append(toolbar);

var button = new Ui.Button({ text: 'set page 1' });
toolbar.append(button);
app.connect(button, 'press', function() {
	notebook.setCurrentPosition(0);
});

button = new Ui.Button({ text: 'add page' });
toolbar.append(button);
app.connect(button, 'press', function() {
	var page = new Ui.NotebookPage();
	page.setHeader(new Ui.Label({ text: 'Page X' }));
	page.setContent(new Ui.Label({ text: 'Page X content', verticalAlign: 'center', horizontalAlign: 'center' }));
	notebook.appendPage(page);
});

button = new Ui.Button({ text: 'remove last page' });
toolbar.append(button);
app.connect(button, 'press', function() {
	var count = notebook.getPages().length;
	if(count > 0)
		notebook.removePage(notebook.getPages()[count - 1]);
});

var label = new Ui.Label({ text: 'current page: ', margin: 5 });
vbox.append(label);

var notebook = new Ui.Notebook({ margin: 10 });
vbox.append(notebook, true);

app.connect(notebook, 'change', function(notebook, page, pos) {
	label.setText('current page: '+(pos+1));
});

var page = new Ui.NotebookPage();
page.setHeader(new Ui.Label({ text: 'Page 1' }));
var content1 = new Ui.VBox({ horizontalAlign: 'center', verticalAlign: 'center' });
content1.append(new Ui.Button({ text: 'button1 p1' }));
content1.append(new Ui.Button({ text: 'button2 p1' }));
page.setContent(content1);
notebook.appendPage(page);

page = new Ui.NotebookPage();
page.setHeader(new Ui.Label({ text: 'Page 2' }));
var content2 = new Ui.VBox({ horizontalAlign: 'center', verticalAlign: 'center' });
content2.append(new Ui.Button({ text: 'button1 p2' }));
content2.append(new Ui.Button({ text: 'button2 p2' }));
page.setContent(content2);
notebook.appendPage(page);

page = new Ui.NotebookPage();
page.setHeader(new Ui.Label({ text: 'Page 3' }));
page.setContent(new Ui.Rectangle({ width: 50, height: 50, fill: 'purple' }));
notebook.appendPage(page);

</script>
  </head>
</html>
