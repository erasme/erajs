<!DOCTYPE html>
<html>
  <head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <script src='../../era/js/era-debug.js'></script>
<script>

var count = 0;

var app = new Ui.App({ });

var vbox = new Ui.VBox({ verticalAlign: 'center', horizontalAlign: 'center' });
app.setContent(vbox);

var label = new Ui.Label({ text: 'toggle count: 0' });
vbox.append(label);

var togglable = new Ui.Togglable();
vbox.append(togglable);

var rectangle = new Ui.Rectangle({ width: 100, height: 100, fill: 'lightblue' });
togglable.append(rectangle);
app.connect(togglable, 'down', function() {
	rectangle.setFill('blue');
});
app.connect(togglable, 'up', function() {
	if(togglable.getIsToggled())
		rectangle.setFill('darkblue');
	else
		rectangle.setFill('lightblue');
});

app.connect(togglable, 'toggle', function() {
	label.setText('toggle count: '+(++count));
	rectangle.setFill('darkblue');
});
app.connect(togglable, 'untoggle', function() {
	rectangle.setFill('lightblue');
});


</script>
  </head>
</html>
