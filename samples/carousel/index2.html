<!DOCTYPE html>
<html>
  <head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <script src='../../era/era-debug.js'></script>
<script>

Ui.App.extend('Test.App', {
	carousel: undefined,

	constructor: function(config) {

		var vbox = new Ui.VBox();
		this.setContent(vbox);

		var toolbar = new Ui.ToolBar();
		vbox.append(toolbar);

		var previousButton = new Ui.Button({ icon: 'arrowleft' });
		toolbar.append(previousButton);
		this.connect(previousButton, 'press', function() {
			this.carousel.previous();
		});

		toolbar.append(new Ui.Spacer(), true);

		var nextButton = new Ui.Button({ icon: 'arrowright' });
		toolbar.append(nextButton);
		this.connect(nextButton, 'press', function() {
			this.carousel.next();
		});

		var scroll = new Ui.ScrollingArea();
		vbox.append(scroll, true);

		var vbox2 = new Ui.VBox({ spacing: 10 });
		scroll.setContent(vbox2);

		vbox2.append(new Ui.Rectangle({ fill: 'lightgreen', height: 400 }));

		var lbox = new Ui.LBox({ verticalAlign: 'center', horizontalAlign: 'center', width: 400, height: 400 });
		vbox2.append(lbox);

		lbox.append(new Ui.Frame({ fill: 'orange', frameWidth: 4, radius: 8 }));

		this.carousel = new Ui.Carousel({ margin: 4 });
		this.connect(this.carousel, 'change', function(c, pos) {
			console.log('change pos: '+pos);
			Ui.Toast.send('position '+pos);
		});
		lbox.append(this.carousel);

		this.carousel.append(new Ui.Rectangle({ fill: 'lightgreen' }));
		this.carousel.append(new Ui.Rectangle({ fill: 'lightblue' }));

		var scroll = new Ui.ScrollingArea();
		this.carousel.append(scroll);
		scroll.setContent(new Ui.Rectangle({ fill: 'orange', height: 600 }));

		var scroll2 = new Ui.ScrollingArea();
		this.carousel.append(scroll2);
		scroll2.setContent(new Ui.Image({ src: '6wind.jpg', width: 600, height: 600 }));

		var complexcontent = new Ui.VBox({ verticalAlign: 'center', horizontalAlign: 'center' });
		complexcontent.append(new Ui.Button({ text: 'Button 1' }));
		complexcontent.append(new Ui.Button({ text: 'Button 2' }));
		this.carousel.append(complexcontent);

		this.carousel.append(new Ui.Text({ selectable: true, text: 
			'Thalassius vero ea tempestate praefectus praetorio praesens ipse '+
			'quoque adrogantis ingenii, considerans incitationem eius ad multorum '+
			'augeri discrimina, non maturitate vel consiliis mitigabat, ut aliquotiens '+
			'celsae potestates iras principum molliverunt, sed adversando iurgandoque '+
			'cum parum congrueret, eum ad rabiem potius evibrabat, Augustum actus eius '+
			'exaggerando creberrime docens, idque, incertum qua mente, ne lateret adfectans. '+
			'quibus mox Caesar acrius efferatus, velut contumaciae quoddam vexillum altius '+
			'erigens, sine respectu salutis alienae vel suae ad vertenda opposita instar '+
			'rapidi fluminis irrevocabili impetu ferebatur.'
		}));

		this.carousel.append(new Ui.Rectangle({ fill: 'green' }));

		vbox2.append(new Ui.Rectangle({ fill: 'lightblue', height: 400 }));
	}
});

new Test.App();

</script>
  </head>
</html>
