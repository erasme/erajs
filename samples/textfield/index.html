<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Test TextField</title>
    <script src='../../era/js/era-debug.js'></script>
<style>
</style>
<script>

Ui.VBox.extend('Test.Logs', {
	logs: undefined,
	scrolling: undefined,

	constructor: function() {
		this.append(new Ui.Label({ text: 'Logs:', horizontalAlign: 'left', fontWeight: 'bold' }));
		this.scrolling = new Ui.ScrollingArea();
		this.append(this.scrolling, true);
		this.logs = new Ui.VBox();
		this.scrolling.setContent(this.logs);
	},

	log: function(text, color) {
		if(color == undefined)
			color = 'black';
		this.logs.prepend(new Ui.Label({ text: text, color: color, horizontalAlign: 'left' }));
	}
});

var app = new Ui.App();

var vbox = new Ui.VBox({ padding: 50, spacing: 10 });
app.setContent(vbox);

var hbox = new Ui.HBox({ spacing: 10 });
vbox.append(hbox);

var textfield = new Ui.TextField();
hbox.append(textfield, true);

app.connect(textfield, 'change', function(textfield, value) {
	logs.log('change: '+value);
});

app.connect(textfield, 'validate', function(textfield) {
	logs.log('validate: '+textfield.getValue(), 'green');
});

var getButton = new Ui.Button({ text: 'get text' });
hbox.append(getButton);

app.connect(getButton, 'press', function() {
	logs.log('get text: '+textfield.getValue(), 'blue');
});

var logs = new Test.Logs();
vbox.append(logs, true);

</script>
  </head>
</html>
