<!DOCTYPE html>
<html>
	<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Test jQuery</title>
	<script src='../../era/era-debug.js'></script>
	<script src='../../extras/jqueryui/datepicker.js'></script>
<script>

var app = new Ui.App();

var hbox = new Ui.HBox({ verticalAlign: 'center', horizontalAlign: 'center' });
app.setContent(hbox);

var textfield = new Ui.TextButtonField({ width: 150, buttonIcon: 'calendar' });
hbox.append(textfield);

var popup;
app.connect(textfield, 'validate', function() {
	console.log('validate');
	popup = new Ui.Popup();

	var datepicker = new JQueryUI.DatePicker({ verticalAlign: 'center', horizontalAlign: 'center' });
	popup.setContent(datepicker);
	
	app.connect(datepicker, 'select', function(datepicker, date) {
		textfield.setValue(date);
		popup.hide();
	});
	popup.show(textfield);
});


</script>
	</head>	
</html>
	

