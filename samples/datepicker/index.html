<!DOCTYPE html>
<html>
	<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Test DatePicker</title>
	<script src='../../era/era-debug.js'></script>
<script>

Ui.VBox.extend('Test.Logs', {
	logs: undefined,

	constructor: function() {
		this.append(new Ui.Label({ text: 'Logs:', horizontalAlign: 'left', fontWeight: 'bold' }));
		var scrolling = new Ui.ScrollingArea();
		this.append(scrolling, true);
		this.logs = new Ui.VBox();
		scrolling.setContent(this.logs);
	},

	log: function(text, color) {
		if(color == undefined)
			color = 'black';
		this.logs.prepend(new Ui.Label({ text: text, color: color, horizontalAlign: 'left' }));
	}
});

Ui.App.extend('Test.App', {
	constructor: function() {
		var vbox = new Ui.VBox();
		this.setContent(vbox);

		var toolbar = new Ui.ToolBar();
		vbox.append(toolbar);

		var button = new Ui.Button({ text: 'get date' });
		toolbar.append(button);
		this.connect(button, 'press', function() {
			var date = datepicker.getSelectedDate();
			if(date == undefined)
				logs.log('date is undefined');
			else
				logs.log('date: '+date);
		});

		var hbox = new Ui.HBox();
		vbox.append(hbox, true);

		var datepicker = new Ui.DatePicker({ verticalAlign: 'center', horizontalAlign: 'center', dayFilter: [0, 6] });
		hbox.append(datepicker, true);

		var logs = new Test.Logs();
		hbox.append(logs, true);
	}
});

new Test.App();

</script>
	</head>	
</html>
	

