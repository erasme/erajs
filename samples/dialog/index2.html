<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8'>
    <title>Test Dialog</title>
    <script src='../../era/era-debug.js'></script>
<script>

Ui.App.extend('Test.App', {

	constructor: function(config) {
		
		var vbox = new Ui.VBox();
		this.setContent(vbox);

		var tb = new Ui.ToolBar();
		vbox.append(tb);

		tb.append(new Ui.Button({ text: 'test 1' }));
		tb.append(new Ui.Button({ text: 'test 2' }));

		var button = new Ui.Button({ text: 'open', verticalAlign: 'center', horizontalAlign: 'center' });
		vbox.append(button, true);

		this.connect(button, 'press', function() {

			var defaultButton = new Ui.DefaultButton({ text: 'Connect'});

			var dialog = new Ui.Dialog({
				title: 'Test Dialogue with title',
				preferredWidth: 400,
				content: new Ui.VBox({
					content: [
						new Ui.TextField(),
						new Ui.TextAreaField()
					]
				}),
				cancelButton: new Ui.DialogCloseButton({ text: 'Abort' }),
				actionButtons: [ new Ui.Button({ text: 'Previous'}), defaultButton ]
			});

			this.connect(defaultButton, 'press', function() {
				console.log('default pressed');
				dialog.close();
			});

			dialog.open();
		});
	}
});

new Test.App();

</script>
  </head>
</html>
